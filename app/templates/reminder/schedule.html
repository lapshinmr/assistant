{% macro create_schedule(tasks, periods) %}
    {% for note, from, to in periods %}
        <article class="time">
            <p>{{ note }}</p>
            {% for task in tasks %}
                {% if task.is_active() %}
                {% if (not from and (task.count_left_time() < to)) or
                      (from and to and from <= task.count_left_time() < to) or
                      (not to and (from <= task.count_left_time())) %}
                    <div class="task">
                        <a class="task_body_link" href="{{ url_for('reminder.complete', task_name=task.name) }}">
                            <div class="task_body">
                                <p class="task_name">{{ task.name }}</p>
                                <p class="left_time">{{ task.show_left_time() }}</p>
                                <p class="time_loop">{{ task.show_loop_time() }}</p>
                            </div>
                        </a>
                        <a class="task_close_link" href="{{ url_for('reminder.close', task_name=task.name) }}">
                            <div class="task_close">
                                <p>x</p>
                            </div>
                        </a>
                    </div>
                {% endif %}
                {% endif %}
            {% endfor %}
        </article>
    {% endfor %}
{% endmacro %}


{% macro show_history(tasks_times) %}
    {% for task, time_complete in tasks_times|reverse %}
        <div class="history_row">
        {% if task.is_active() %}
            <div class="history_col activity_marker active"></div>
        {% endif %}
            <div class="history_col history_task_info">
                <div class="task_name">{{ task.name }}</div>
                <div class="time_complete">{{ time_complete }}</div>
            </div>
            <div class="history_col control_buttons">
                <a class="close" href="{{ url_for('reminder.remove', task_name=task.name, time_complete=time_complete) }}"><i class="fa fa-times" aria-hidden="true"></i></a>
                {% if task.is_close() %}
                    <a class="restore" href="{{ url_for('reminder.restore', task_name=task.name) }}"><i class="fa fa-undo" aria-hidden="true"></i></a>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endmacro %}

