{% macro create_schedule(buttons, periods) %}
    {% for note, from, to in periods %}
        <article class="time">
            <p>{{ note }}</p>
            {% for button in buttons %}
                {% if button.is_active() %}
                {% if (not from and (button.count_left_time() < to)) or
                      (from and to and from <= button.count_left_time() < to) or
                      (not to and (from <= button.count_left_time())) %}
                    <div class="button">
                        <a id="button_body_link" href="reminder/press/{{ button.name }}">
                            <div id="button_body">
                                <p id="button_name">{{ button.name }}</p>
                                <p id="left_time">{{ button.show_left_time() }}</p>
                                <p id="time_loop">{{ button.show_loop_time() }}</p>
                            </div>
                        </a>
                        <a id="button_close_link" href="reminder/press/{{ button.name }}/close">
                            <div id="button_close">
                                <p>x</p>
                            </div>
                        </a>
                    </div>
                {% endif %}
                {% endif %}
            {% endfor %}
        </article>
    {% endfor %}
{% endmacro %}


{% macro show_history(buttons) %}
    {% for button in buttons %}
        <div class="button_history_info">
        {% if button.is_active() %}
            <div class="button_in_history activity_marker active"></div>
        {% else %}
            <div class="button_in_history activity_marker closed"></div>
        {% endif %}
            <div class="button_in_history middle">
                <div class="name">{{ button.name }}</div>
                <div class="last_press">{{ button.time_last }}</div>
            </div>
            <div class="button_in_history activity_marker restore"></div>
            <div class="button_in_history activity_marker close"></div>
        </div>
    {% endfor %}
{% endmacro %}

